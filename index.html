<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WEBY</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <style>
       :root{
  --bg:#0f1724;
  --panel:#0b1220;
  --muted:#94a3b8;
  --accent:#7c3aed;
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.03);
  --border: rgba(255,255,255,0.06);
  --radius: 12px;
  --mono: "Space Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
}

/* Reset / Body */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  padding:24px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg,#071021 0%, #071828 60%);
  color:#e6eef6;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  gap:18px;
}

/* Header */
h1{
  margin:0;
  font-family: var(--mono);
  font-size:20px;
  letter-spacing:1px;
  color: #fff;
  display:flex;
  gap:.6rem;
  align-items:center;
}
h1 small{
  font-size:12px;
  color:var(--muted);
  font-weight:600;
  margin-left:8px;
}

/* Intro paragraph */
p { 
  margin:6px 0 0 0;
  color:var(--muted);
  font-size:13px;
}

/* Page layout */
main.editor-wrap{
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:20px;
  align-items:start;
}

/* On small screens, stack */
@media (max-width:980px){
  main.editor-wrap{
    grid-template-columns: 1fr;
  }
}

/* Left column: editor area */
.editor-left{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:14px;
  box-shadow: 0 6px 30px rgba(2,6,23,0.6);
}

/* Tiny toolbar */
.toolbar{
  display:flex;
  gap:8px;
  align-items:center;
  margin-bottom:10px;
}
.toolbar .button{
  background:transparent;
  color:var(--muted);
  border:1px solid rgba(255,255,255,0.03);
  padding:8px 12px;
  font-family:var(--mono);
  font-size:13px;
  border-radius:10px;
  transition:all .18s ease;
}
.toolbar .button:hover{
  transform:translateY(-2px);
  background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: #fff;
  border-color: rgba(124,58,237,0.35);
  box-shadow: 0 6px 18px rgba(124,58,237,0.08);
}

/* Input textarea looks like a code editor */
textarea#input{
  width:100%;
  min-height:360px;
  resize:vertical;
  font-family: var(--mono);
  font-size:13px;
  line-height:1.5;
  color:#e6eef6;
  background: linear-gradient(180deg, rgba(10,14,22,0.7), rgba(6,10,18,0.55));
  border:1px solid rgba(255,255,255,0.04);
  padding:14px;
  border-radius:10px;
  outline:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
  caret-color: var(--accent);
  white-space:pre-wrap;
  tab-size:2;
}

/* Fancy focus */
textarea#input:focus{
  border-color: rgba(124,58,237,0.6);
  box-shadow: 0 8px 30px rgba(124,58,237,0.08), inset 0 1px 0 rgba(255,255,255,0.02);
}

/* Right column: preview + output panels */
.side-panel{
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Panels common */
.panel{
  background: linear-gradient(180deg,var(--panel), rgba(6,10,18,0.8));
  border: 1px solid var(--border);
  border-radius:12px;
  padding:12px;
  min-height:110px;
  overflow:auto;
  box-shadow: 0 6px 24px rgba(2,6,23,0.6);
}

/* Preview styling */
#preview{
  font-family: var(--mono);
  color: #e6eef6;
  line-height:1.4;
  min-height:160px;
}

#preview h1,#preview h2{
  margin:6px 0 8px 0;
  font-family:var(--mono);
}
#preview p{ color:#d6e0ef; margin:6px 0; }
#preview a{
  color:var(--accent);
  text-decoration:none;
  padding:2px 6px;
  border-radius:6px;
  transition:background .12s;
}
#preview img{
  max-width:100%;
  border-radius:8px;
  display:block;
  margin:8px 0;
  border:1px solid rgba(255,255,255,0.04);
}

/* HTML output area (monospace, selectable) */
#output{
  font-family: var(--mono);
  font-size:12px;
  color:#bcd0ff;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));
  border-radius:10px;
  padding:12px;
  white-space:pre-wrap;
  word-break:break-word;
  max-height:180px;
  overflow:auto;
  border:1px dashed rgba(255,255,255,0.03);
}

/* Copy button */
#copyBtn{
  display:inline-block;
  margin-top:8px;
  background: linear-gradient(90deg, var(--accent), #4f46e5);
  color:white;
  border:none;
  padding:10px 14px;
  border-radius:10px;
  font-weight:700;
  font-family:var(--mono);
  cursor:pointer;
  transition:transform .12s ease, box-shadow .12s ease;
  box-shadow: 0 10px 30px rgba(124,58,237,0.12);
}
#copyBtn:hover{ transform:translateY(-3px); box-shadow: 0 16px 48px rgba(124,58,237,0.18); }

/* Labels */
label{
  display:block;
  font-size:12px;
  color:var(--muted);
  margin-bottom:8px;
  font-weight:600;
}

/* Buttons inside preview (generated) */
#preview button{
  font-family:var(--mono);
  padding:8px 12px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  color:#e6eef6;
  cursor:pointer;
  transition:all .12s ease;
}
#preview button:hover{
  transform:translateY(-2px);
  box-shadow: 0 10px 30px rgba(2,6,23,0.6);
  border-color: rgba(124,58,237,0.35);
}

/* Small helpers */
.small-note{
  font-size:12px;
  color:var(--muted);
  margin-top:6px;
}

/* Custom scrollbar (Webkit) */
.panel::-webkit-scrollbar, textarea::-webkit-scrollbar, #output::-webkit-scrollbar{
  height:10px;width:10px;
}
.panel::-webkit-scrollbar-thumb, textarea::-webkit-scrollbar-thumb, #output::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.02);
}

/* Accessibility focus for keyboard users */
.button:focus, #copyBtn:focus, textarea:focus, .toolbar .button:focus{
  outline: 3px solid rgba(124,58,237,0.14);
  outline-offset: 2px;
}

/* Footer / credit area - optional if you add one */
.footer{
  color:var(--muted);
  font-size:12px;
  margin-top:6px;
}

    </style>
</head>
<body>
    <h1>WEBY</h1>
    <p><strong>W</strong> – Web | <strong>E</strong> – Elements | <strong>B</strong> – Built | <strong>Y</strong> – Yourself</p>
    <p>Un langage simple pour créer des pages web à partir d’éléments.</p>

    <label for="input">WEBY input</label>
    <textarea id="input" placeholder="Type your custom code here..."></textarea>
    <button class="button" onclick="parseAndShow()">Parse & Show</button>
    

        <div>
        <label>Preview:</label>
        <div id="preview"></div>
    </div>

    <div>
        <label>HTML output:</label>
        <div id="output"></div>
        <button class="button" id="copyBtn" onclick="copyOutput()">Copier le HTML</button>
    </div>
    



    <script>
const syntax_error = "It seems that you have a syntax error in your input.";

// Fonction pour text
function text(line) {
    const match = line.match(/^\s*text\s*:\s*(.+)$/i);
    if (match) return `<p>${match[1].trim()}</p>`;
    return syntax_error;
}

// Fonction pour button
function button(line) {
    const match = line.match(/^\s*button\s*:\s*(.+)$/i);
    if (match) return `<button>${match[1].trim()}</button>`;
    return syntax_error;
}

// Fonction pour link
function link(line) {
    const match = line.match(/^\s*link\s*:\s*(.+?)\s*,\s*to\s+(.+)$/i);
    if (match) return `<a href="${match[2].trim()}">${match[1].trim()}</a>`;
    return syntax_error;
}

//Fonction pour image
function image(line) {
    const match = line.match(/^\s*image\s*:\s*(.+)$/i);
    if (match) return `<img src="${match[1].trim()}">`;
    return syntax_error;
}

// Fonction pour button avec lien
function buttonLink(line) {
    const match = line.match(/^\s*button\s*:\s*(.+?),\s*to\s+(.+)$/i);
    if (match) {
        const text = match[1].trim();
        const url = match[2].trim();
        return `<button onclick="window.location.href='${url}'">${text}</button>`;
    }
    return `<span style="color:red;">${syntax_error}</span>`;
}

//fonction pour le titre
function title(line) {
    const match = line.match(/^\s*title\s*:\s*(.+)$/i);
    if (match) return `<h1>${match[1].trim()}</h1>`;
    return syntax_error;
}

//fonction pour le sous-titre
function subtitle(line) {
    const match = line.match(/^\s*subtitle\s*:\s*(.+)$/i);
    if (match) return `<h2>${match[1].trim()}</h2>`;
    return syntax_error;
}

//fonction pour le texte en gras
function boldText(line) {
    const match = line.match(/^\s*bold\s*:\s*(.+)$/i);
    if (match) return `<strong>${match[1].trim()}</strong>`;
    return syntax_error;
}

//fonction pour le texte italique
function italicText(line) {
    const match = line.match(/^\s*italic\s*:\s*(.+)$/i);
    if (match) return `<em>${match[1].trim()}</em>`;
    return syntax_error;
}

//fonction pour le texte souligné
function underlineText(line) {
    const match = line.match(/^\s*underline\s*:\s*(.+)$/i);
    if (match) return `<u>${match[1].trim()}</u>`;
    return syntax_error;
}

//fonction pour les citations
function quoteText(line) {
    const match = line.match(/^\s*quote\s*:\s*(.+)$/i);
    if (match) return `<blockquote>${match[1].trim()}</blockquote>`;
    return syntax_error;
}

//fonction pour les listes
function listText(line) {
    const match = line.match(/^\s*list\s*:\s*(.+)$/i);
    if (match) {
        const items = match[1].split(',').map(item => `<li>${item.trim()}</li>`).join('');
        return `<ul>${items}</ul>`;
    }
    return syntax_error;
}

//fonction pour le texte barré
function strikethroughText(line) {
    const match = line.match(/^\s*cross\s*:\s*(.+)$/i);
    if (match) return `<s>${match[1].trim()}</s>`;
    return syntax_error;
}

//fonction pour les retours à la ligne
function lineBreak(line) {
    const match = line.match(/^\s*break\s*:\s*$/i);
    if (match) return `<br>`;
    return syntax_error;
}
//foonction pour les paragraphes
function paragraphText(line) {
    const match = line.match(/^\s*paragraph\s*:\s*(.+)$/i);
    if (match) return `<p>${match[1].trim()}</p>`;
    return syntax_error;
}

//fonction pour les sections
function sectionText(line) {
    const match = line.match(/^\s*area\s*:\s*(.+)$/i);
    if (match) return `<section>${match[1].trim()}</section>`;
    return syntax_error;
}

//fonction pour les articles
function articleText(line) {
    const match = line.match(/^\s*article\s*:\s*(.+)$/i);
    if (match) return `<article>${match[1].trim()}</article>`;
    return syntax_error;
}

//fonction pour les divisions
function divisionText(line) {
    const match = line.match(/^\s*box\s*:\s*(.+)$/i);
    if (match) return `<div>${match[1].trim()}</div>`;
    return syntax_error;
}

//fonction pour les listes numérotées
function numberedList(line) {
    const match = line.match(/^\s*numbered-list\s*:\s*(.+)$/i);
    if (match) {
        const items = match[1].split(',').map(item => `<li>${item.trim()}</li>`).join('');
        return `<ol>${items}</ol>`;
    }
    return syntax_error;
}

//fonction pour les commentaires
function commentText(line) {
    const match = line.match(/^\s*comment\s*:\s*(.+)$/i);
    if (match) return `<!-- ${match[1].trim()} -->`;
    return syntax_error;
}

//fo
















// Fonction qui détecte le type et appelle la fonction correspondante
function parseAndShow() {
    const input = document.getElementById('input').value;
    const lines = input.split('\n');
    let htmlOutput = '';
    let previewHTML = '';

for (let line of lines) {
    line = line.trim();
    if (line === '') continue;

    // Bouton avec lien d'abord
    if (/^\s*button\s*:.*to\s+/.test(line)) {  
        const result = buttonLink(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*button\s*:/.test(line)) {
        const result = button(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*text\s*:/.test(line)) {
        const result = text(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*link\s*:/.test(line)) { 
        const result = link(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*image\s*:/.test(line)) {  
        const result = image(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    }
        else if (/^\s*title\s*:/.test(line)) {  
        const result = title(line);
        htmlOutput += result + '\n';
        previewHTML += result;
        }
    else if (/^\s*bold\s*:/.test(line)) {
        const result = boldText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    }

    else if (/^\s*italic\s*:/.test(line)) {
        const result = italicText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*underline\s*:/.test(line)) {
        const result = underlineText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*quote\s*:/.test(line)) {
        const result = quoteText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*list\s*:/.test(line)) {
        const result = listText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*cross\s*:/.test(line)) {
        const result = strikethroughText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*break\s*:/.test(line)) {
        const result = lineBreak(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*paragraph\s*:/.test(line)) {
        const result = paragraphText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*area\s*:/.test(line)) {
        const result = sectionText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*article\s*:/.test(line)) {
        const result = articleText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    } 
    else if (/^\s*box\s*:/.test(line)) {
        const result = divisionText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    }

    else if (/^\s*numbered-list\s*:/.test(line)) {
        const result = numberedList(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    }
    else if (/^\s*subtitle\s*:/.test(line)) {
    const result = subtitle(line);
    htmlOutput += result + '\n';
    previewHTML += result;
}

    else if (/^\s*comment\s*:/.test(line)) {
        const result = commentText(line);
        htmlOutput += result + '\n';
        previewHTML += result;
    }
    else {
        htmlOutput += syntax_error + '\n';
        previewHTML += `<span style="color:red;">${syntax_error}</span>`;
    }

}



    document.getElementById('output').textContent = htmlOutput;
    document.getElementById('preview').innerHTML = previewHTML;
}

function copyOutput() {
            const output = document.getElementById('output').textContent;
            navigator.clipboard.writeText(output).then(() => {
                alert("HTML copié dans le presse-papiers !");
            }).catch(err => {
                alert("Erreur lors de la copie : " + err);
            });
        }


let timeout;
document.getElementById('input').addEventListener('input', () => {
    clearTimeout(timeout);
    timeout = setTimeout(parseAndShow, 300); // 300ms après la dernière frappe
});
window.onload = parseAndShow; // Parse au chargement initial
    </script>
</body>
</html>

